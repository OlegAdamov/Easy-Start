{"mappings":"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","sources":["src/templates/movi-card-library.hbs","src/js/library_rend.js"],"sourcesContent":["<li id='{{id}}' class='gallery__item'>\n    <div class=\"overflowHidden\">\n        <img class=\"gallery__img\" src=\"https://image.tmdb.org/t/p/w500{{poster_path}}\" alt=\"{{title}} {{name}}\"\n            id=\"{{id}}\"\n            onerror=\"this.onerror=null;this.src='https://ik.imagekit.io/dqs5dhaf3/onerror_xia2bwu8M.jpg?ik-sdk-version=javascript-1.4.3&updatedAt=1664537019915';\" />\n    </div>\n    <div class='meta'>\n        <h2 class='gallery__title'>{{title}}</h2>\n        <div class='discription'>\n            <p class='gallery__discription'>{{genresName}}\n                |\n                {{release_date}}<span class=\"gallery__vote\">{{vote_average\n}}</span></p>\n        </div>\n</li>","import moviesMurkup from '../templates/movi-card-library.hbs';\nimport { pagination } from './pagination';\n\nconst watched = document.querySelector('.watched');\nconst queued = document.querySelector('.queued');\nconst gallery = document.querySelector('.gallery');\nconst sliderWrapper = document.querySelector('.slider-wrapper');\nconst watchedBtn = document.querySelector('#btn_watched');\nconst queueBtn = document.querySelector('#btn_queue');\nconst homeBtn = document.querySelector('#activ-homeJs');\nconst libraryBtn = document.querySelector('#activ-libraryJs');\n\nconst localStorageWatched = () =>\n  JSON.parse(localStorage.getItem('watched-films-list'));\nconst localStorageQueue = () =>\n  JSON.parse(localStorage.getItem('queued-films-list'));\nconst isWatchList = () => document.querySelector('.watched') !== null;\n\nwatchedBtn.addEventListener('click', () => {\n  gallery.innerHTML = null;\n  sliderWrapper.innerHTML = null;\n  pagination.reset(localStorageWatched().length);\n  createLibraryCard(\n    paginateLocalStorage(\n      localStorageWatched(),\n      pagination._options.itemsPerPage,\n      1\n    )\n  );\n  queueBtn.classList.remove('btn_library_active');\n  watchedBtn.classList.add('btn_library_active');\n});\n\nqueueBtn.addEventListener('click', () => {\n  gallery.innerHTML = null;\n  sliderWrapper.innerHTML = null;\n  pagination.reset(localStorageQueue().length);\n  createLibraryCard(\n    paginateLocalStorage(\n      localStorageQueue(),\n      pagination._options.itemsPerPage,\n      1\n    )\n  );\n  watchedBtn.classList.remove('btn_library_active');\n  queueBtn.classList.add('btn_library_active');\n});\nhomeBtn.addEventListener('click', () => {\n  location.reload();\n});\n\nlibraryBtn.addEventListener('click', () => {\n  watchedBtn.classList.add('btn_library_active');\n  queueBtn.classList.remove('btn_library_active');\n  gallery.innerHTML = null;\n  sliderWrapper.innerHTML = null;\n  pagination.reset(localStorageWatched().length);\n  createLibraryCard(\n    paginateLocalStorage(\n      localStorageWatched(),\n      pagination._options.itemsPerPage,\n      1\n    )\n  );\n});\n\nfunction createLibraryCard(movies) {\n  const markup = movies\n    .map(watched_queue => moviesMurkup(watched_queue))\n    .join('');\n  if (isWatchList()) {\n    watched.innerHTML = markup;\n    queued.innerHTML = null;\n  } else {\n    watched.innerHTML = null;\n    queued.innerHTML = markup;\n  }\n  gallery.innerHTML = null;\n  pagination._offByEventName('afterMove', 'getResponseMovie');\n  pagination.on('afterMove', getNextPage);\n}\n\nconst paginateLocalStorage = (array, page_size, page_number) => {\n  return array.slice((page_number - 1) * page_size, page_number * page_size);\n};\n\nfunction getNextPage(event) {\n  try {\n    let currentStorage;\n    if (isWatchList()) {\n      currentStorage = localStorageWatched();\n    } else {\n      currentStorage = localStorageQueue();\n    }\n    const movies = paginateLocalStorage(\n      currentStorage,\n      pagination._options.itemsPerPage,\n      pagination.getCurrentPage()\n    );\n    if (currentStorage.length !== pagination._options.totalItems) {\n      console.log('getNextPage ~ pagination.reset', pagination.reset);\n      pagination.reset(currentStorage.length);\n    }\n    console.log('getNextPage ~ pagination', pagination);\n    console.log('getNextPage ~ currentStorage', currentStorage);\n    createLibraryCard(movies, isWatchList());\n  } catch (error) {\n    console.log(error);\n    Notify.failure(error.name);\n  }\n  window.scrollTo(0, 0);\n}\n"],"names":["$5b549e5ec406aa85$export$2e2bcd8739ae039","$parcel$interopDefault","parcelRequire","template","compiler","main","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","name","hash","loc","start","line","column","end","useData","$8cd6564c98ec01ea$var$watched","document","querySelector","$8cd6564c98ec01ea$var$queued","$8cd6564c98ec01ea$var$gallery","$8cd6564c98ec01ea$var$sliderWrapper","$8cd6564c98ec01ea$var$watchedBtn","$8cd6564c98ec01ea$var$queueBtn","$8cd6564c98ec01ea$var$homeBtn","$8cd6564c98ec01ea$var$libraryBtn","$8cd6564c98ec01ea$var$localStorageWatched","JSON","parse","localStorage","getItem","$8cd6564c98ec01ea$var$localStorageQueue","$8cd6564c98ec01ea$var$isWatchList","$8cd6564c98ec01ea$var$createLibraryCard","movies","markup","map","watched_queue","join","innerHTML","$2nhTy","pagination","_offByEventName","on","$8cd6564c98ec01ea$var$getNextPage","addEventListener","reset","length","$8cd6564c98ec01ea$var$paginateLocalStorage","_options","itemsPerPage","classList","remove","add","location","reload","array","page_size","page_number","slice","event","currentStorage","getCurrentPage","totalItems","console","log","error","Notify","failure","window","scrollTo"],"version":3,"file":"index.ccf17280.js.map"}