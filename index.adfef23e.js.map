{"mappings":"ujBACA,MAAMA,EAAiB,IAAI,EAD3BC,EAAA,SAC2BC,SAErBC,EAAO,CACXC,QAASC,SAASC,cAAc,YAChCC,WAAYF,SAASG,eAAe,eACpCC,OAAQJ,SAASG,eAAe,cAyClC,SAASE,EAAoBC,GAC3B,OAAOA,EACJC,KACC,EAACC,GACCA,EAAEC,YACFA,EAAWC,MACXA,EAAKC,aACLA,KACI,aAAaH,mFAC8BC,4EAEfC,iFACgCC,EAAaC,MAAM,EAAE,oDAKxFC,KAAK,I,CAxDVC,OAAOC,iBAAiB,QACxB,WACEC,YAAW,KACTlB,EAAKM,OAAOa,UAAUC,IAAI,kBAAkB,GAC7C,I,IAEHpB,EAAKI,WAAWa,iBAAiB,UAEjCI,eAA4BC,GAG1B,GAFAA,EAAEC,iBACF1B,EAAe2B,MAAQF,EAAEG,OAAOC,SAASC,YAAYC,MAAMC,OAC9B,KAAzBhC,EAAe2B,MAEjB,YADAM,OAAOC,QAAQ,+BAGjB,MAAMC,QAA6BnC,EAAeoC,mBAoBpD,SAAoCC,GAClC,MAAMC,EAAS5B,EAAoB2B,GACnClC,EAAKC,QAAQmC,UAAYD,C,CApBzBE,OADqBL,EAAqBM,KAAKC,Q,IAIjDlB,iBACE,MAAMW,QAA6BnC,EAAe2C,kBAC5CC,QAAuB5C,EAAe6C,YACtCR,QAAeF,EAAqBM,KAAKC,eAC1BE,EAAeH,KAAKK,QACpBlC,KAAImC,GAAS/C,EAAe8C,OAAOE,KAAKD,KAK/D,SAA6BpC,GAC3B,MAAM2B,EAAS5B,EAAoBC,GACnCR,EAAKC,QAAQ6C,mBAAmB,YAAaX,E,CAN7CY,CAAoBb,E,CAEtBc,E,wKCpCA,IAAAC,EAAAnD,EAAA,SAGe,MAAMoD,EAMnB7B,wBACE,aAAa8B,EAAAF,GAAMG,IACjB,kGAA+EC,KAAKC,O,CAGxFjC,kBACE,aAAa8B,EAAAF,GAAMG,IACjB,gCAAaC,KAAKE,kE,CAGtBlC,wBACE,aAAa8B,EAAAF,GAAMG,IACjB,2GAAwFC,KAAK7B,cAAc6B,KAAKC,2B,CAGpHjC,kBACE,aAAa8B,EAAAF,GAAMG,IACjB,yF,CAtBJI,cACEH,KAAK7B,MAAQ,GACb6B,KAAKC,KAAO,EACZD,KAAKV,OAAS,E","sources":["src/js/gallery.js","src/js/feach/FilmAPIService.js"],"sourcesContent":["import FilmAPIService from './feach/FilmAPIService';\nconst filmAPIService = new FilmAPIService();\n\nconst refs = {\n  gallery: document.querySelector('.gallery'),\n  searchForm: document.getElementById('search-form'),\n  loader: document.getElementById('preloader'),\n};\nwindow.addEventListener('load', onLoader)\nfunction onLoader() {\n  setTimeout(() => {\n    refs.loader.classList.add('visually-hidden') \n },500)\n}\nrefs.searchForm.addEventListener('submit', searchMovies);\n\nasync function searchMovies(e) {\n  e.preventDefault();\n  filmAPIService.query = e.target.elements.searchQuery.value.trim();\n  if (filmAPIService.query === '') {\n    Notify.failure('Please enter a search word!');\n    return;\n  }\n  const responsePopularMovie = await filmAPIService.getMovieByQuery();\n  const movies = await responsePopularMovie.data.results;\n  renderGalleryMarkupByQuery(movies);\n}\n\nasync function getResponseMovie() {\n  const responsePopularMovie = await filmAPIService.getPopularMovie();\n  const responseGenres = await filmAPIService.getGenres();\n  const movies = await responsePopularMovie.data.results;\n  const genres = await responseGenres.data.genres;\n  const genre = genres.map(genre => filmAPIService.genres.push(genre));\n  renderGalleryMarkup(movies);\n}\ngetResponseMovie();\n\nfunction renderGalleryMarkup(res) {\n  const markup = createGalleryMarkup(res);\n  refs.gallery.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction renderGalleryMarkupByQuery(movies) {\n  const markup = createGalleryMarkup(movies);\n  refs.gallery.innerHTML = markup;\n}\nfunction createGalleryMarkup(res) {\n  return res\n    .map(\n      ({\n        id,\n        poster_path,\n        title,\n        release_date,\n      }) => ` <li id =\"${id}\" class=\"gallery__item\">\n            <img src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"\" class=\"gallery__img\">\n\n           <h2 class=\"gallery__title\">${title}</h2>\n            <div class =\"discription\"><p class=\"gallery__discription\">${release_date.slice(0,4)}</p>\n            </div>\n        \n    </li>`\n    )\n    .join(' ');\n}\n","import axios from 'axios';\nconst BASE_UR = 'https://api.themoviedb.org/3/';\n// const API_KEY = 'ba12bbb2efd4020faab2c5dd14dc19c0';\nexport default class FilmAPIService {\n  constructor() {\n    this.query = '';\n    this.page = 1;\n    this.genres = [];\n  }\n  async getPopularMovie() {\n    return await axios.get(\n      `${BASE_UR}trending/movie/week?api_key=ba12bbb2efd4020faab2c5dd14dc19c0&page=${this.page}`\n    );\n  }\n  async getDetail() {\n    return await axios.get(\n      `${BASE_UR}${this.movieId}?api_key=ba12bbb2efd4020faab2c5dd14dc19c0&language=en-US`\n    );\n  }\n  async getMovieByQuery() {\n    return await axios.get(\n      `${BASE_UR}search/movie?api_key=ba12bbb2efd4020faab2c5dd14dc19c0&language=en-US&query=${this.query}&page=${this.page}&include_adult=false`\n    );\n  }\n  async getGenres() {\n    return await axios.get(\n      `${BASE_UR}genre/movie/list?api_key=ba12bbb2efd4020faab2c5dd14dc19c0`\n    );\n  }\n}\n"],"names":["$7c59f4ec4043ce00$var$filmAPIService","parcelRequire","default","$7c59f4ec4043ce00$var$refs","gallery","document","querySelector","searchForm","getElementById","loader","$7c59f4ec4043ce00$var$createGalleryMarkup","res","map","id","poster_path","title","release_date","slice","join","window","addEventListener","setTimeout","classList","add","async","e","preventDefault","query","target","elements","searchQuery","value","trim","Notify","failure","responsePopularMovie","getMovieByQuery","movies","markup","innerHTML","$7c59f4ec4043ce00$var$renderGalleryMarkupByQuery","data","results","getPopularMovie","responseGenres","getGenres","genres","genre","push","insertAdjacentHTML","$7c59f4ec4043ce00$var$renderGalleryMarkup","$7c59f4ec4043ce00$var$getResponseMovie","$2shzp","$141056da1a6137bc$export$2e2bcd8739ae039","$parcel$interopDefault","get","this","page","movieId","constructor"],"version":3,"file":"index.adfef23e.js.map"}